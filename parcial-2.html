<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Parcial: Indicador de Posición</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            font-family: monospace;
            padding: 1rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
            font-size: 0.9rem;
        }
        .code-block .keyword { color: #93c5fd; } 
        .code-block .type { color: #818cf8; } 
        .code-block .function { color: #a78bfa; } 
        .code-block .comment { color: #64748b; } 
        .code-block .string { color: #f472b6; } 
        .code-block .number { color: #34d399; }
        .code-block .operator { color: #f472b6; }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-10">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-gray-900">Robótica y Electrónica 1</h1>
                <p class="text-sm text-gray-600">Examen Parcial: Indicador de Posición Angular</p>
            </div>
            <div class="text-sm font-medium hidden md:flex space-x-4">
                <a href="#challenge" class="text-gray-600 hover:text-blue-600">El Reto</a>
                <a href="#components" class="text-gray-600 hover:text-blue-600">Componentes</a>
                <a href="#logic" class="text-gray-600 hover:text-blue-600">Lógica</a>
                <a href="#code-guide" class="text-gray-600 hover:text-blue-600">Guía de Código</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="challenge" class="mb-20 fade-in">
            <h3 class="text-4xl font-bold text-center mb-12">Examen Parcial: Indicador de Posición</h3>
            <div class="card max-w-4xl mx-auto">
                <h4 class="text-2xl font-bold text-center mb-4">Misión</h4>
                <p class="text-lg text-gray-700 text-center mb-6">Debes diseñar y programar un "Indicador de Posición Angular". Este sistema utilizará un potenciómetro para simular la entrada de un sensor de ángulo (como un timón o un brazo robótico) y mostrará la posición actual en una barra de 3 LEDs. Un segundo potenciómetro controlará el brillo general del indicador.</p>
            </div>
        </section>
        
        <section id="components" class="mb-20 fade-in">
             <h3 class="text-4xl font-bold text-center mb-12">Componentes Necesarios</h3>
             <div class="card max-w-4xl mx-auto">
                <ul class="list-disc list-inside grid grid-cols-2 gap-4 text-lg">
                    <li>1x Arduino UNO</li>
                    <li>1x Protoboard</li>
                    <li>3x LEDs (Rojo, Amarillo, Verde)</li>
                    <li>3x Resistencias de 220Ω (para los LEDs)</li>
                    <li>2x Potenciómetros (10kΩ)</li>
                    <li>Cables de conexión</li>
                </ul>
             </div>
        </section>

        <section id="logic" class="mb-20 fade-in">
            <h3 class="text-4xl font-bold text-center mb-12">Lógica de Funcionamiento</h3>
            <div class="card max-w-4xl mx-auto">
                <h4 class="text-2xl font-bold mb-4">1. Potenciómetro de Ángulo (Conectar a A0)</h4>
                <ul class="list-disc list-inside space-y-2 mb-6">
                    <li>Debe leer el valor del potenciómetro (0-1023) y convertirlo (mapearlo) a un rango de <strong>0 a 270 grados</strong> (simulando un potenciómetro de 3/4 de vuelta).</li>
                    <li>El valor en grados debe imprimirse continuamente en el Monitor Serial.</li>
                </ul>

                <h4 class="text-2xl font-bold mb-4">2. Potenciómetro de Brillo (Conectar a A1)</h4>
                <ul class="list-disc list-inside space-y-2 mb-6">
                    <li>Debe leer el valor del potenciómetro (0-1023) y convertirlo a un rango de brillo PWM.</li>
                    <li><strong>Requisito Clave:</strong> El brillo nunca debe ser 0. Debe mapearse a un rango de <strong>30 (brillo mínimo) a 255 (brillo máximo)</strong>.</li>
                </ul>

                <h4 class="text-2xl font-bold mb-4">3. Lógica de LEDs (Conectar a pines PWM ~9, ~10, ~11)</h4>
                <p class="mb-4">El brillo de los LEDs será controlado por el <strong>Potenciómetro de Brillo</strong>. El número de LEDs encendidos dependerá del <strong>Potenciómetro de Ángulo</strong>.</p>
                <ul class="list-disc list-inside space-y-3">
                    <li><strong>Si el ángulo es 0-90 grados:</strong> Solo el LED 1 (pin 9) debe estar encendido (con el brillo ajustado). Los LEDs 2 y 3 deben estar apagados.</li>
                    <li><strong>Si el ángulo es 91-180 grados:</strong> Los LEDs 1 (pin 9) y 2 (pin 10) deben estar encendidos. El LED 3 debe estar apagado.</li>
                    <li><strong>Si el ángulo es 181-270 grados:</strong> Los tres LEDs (9, 10 y 11) deben estar encendidos.</li>
                    <li>"Apagado" significa <code>analogWrite(pin, 0)</code>. "Encendido" significa <code>analogWrite(pin, valorDeBrillo)</code>.</li>
                </ul>
            </div>
        </section>

        <section id="code-guide" class="mb-20 fade-in">
            <h3 class="text-4xl font-bold text-center mb-12">Guía de Código y Plantilla</h3>
            <div class="card max-w-4xl mx-auto">
                <p class="text-lg text-gray-600 text-center mb-6">Usa esta plantilla para construir tu programa. Solo se incluyen las declaraciones de constantes y la estructura básica.</p>
                
                <div class="code-block">
<span class="comment">// --- Pines ---</span>
<span class="type">const int</span> potAnguloPin <span class="operator">=</span> A0;
<span class="type">const int</span> potBrilloPin <span class="operator">=</span> A1;
<span class="type">const int</span> led1Pin <span class="operator">=</span> <span class="number">9</span>;  <span class="comment">// PWM</span>
<span class="type">const int</span> led2Pin <span class="operator">=</span> <span class="number">10</span>; <span class="comment">// PWM</span>
<span class="type">const int</span> led3Pin <span class="operator">=</span> <span class="number">11</span>; <span class="comment">// PWM</span>

<span class="comment">// --- Constantes de Lógica ---</span>
<span class="type">const int</span> brilloMinimo <span class="operator">=</span> <span class="number">30</span>;

<span class="type">void</span> <span class="function">setup</span>() {
  <span class="comment">// Inicia el monitor serial</span>
  <span class="function">Serial</span>.<span class="function">begin</span>(<span class="number">9600</span>);
  
  <span class="comment">// Configura los pines de los LEDs como salida</span>
  <span class="function">pinMode</span>(led1Pin, <span class="keyword">OUTPUT</span>);
  <span class="function">pinMode</span>(led2Pin, <span class="keyword">OUTPUT</span>);
  <span class="function">pinMode</span>(led3Pin, <span class="keyword">OUTPUT</span>);
  
  <span class="comment">// Los pines analógicos (A0, A1) no necesitan pinMode para analogRead()</span>
}

<span class="type">void</span> <span class="function">loop</span>() {
  <span class="comment">// --- 1. Leer y Mapear Potenciómetro de Ángulo ---</span>
  <span class="type">int</span> valorAngulo <span class="operator">=</span> <span class="function">analogRead</span>(potAnguloPin);
  <span class="comment">// Tarea: Calcula la variable 'grados' usando map() (0 a 270)</span>
  <span class="type">int</span> grados <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// REEMPLAZA ESTO</span>
  
  <span class="comment">// --- 2. Imprimir en el Monitor Serial ---</span>
  <span class="function">Serial</span>.<span class="function">print</span>(<span class="string">"Angulo: "</span>);
  <span class="function">Serial</span>.<span class="function">print</span>(grados);
  <span class="function">Serial</span>.<span class="function">println</span>(<span class="string">" grados"</span>);
  
  <span class="comment">// --- 3. Leer y Mapear Potenciómetro de Brillo ---</span>
  <span class="type">int</span> valorBrillo <span class="operator">=</span> <span class="function">analogRead</span>(potBrilloPin);
  <span class="comment">// Tarea: Calcula la variable 'brillo' usando map() (brilloMinimo a 255)</span>
  <span class="type">int</span> brillo <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// REEMPLAZA ESTO</span>
  

  <span class="comment">// --- 4. Lógica de LEDs: Usa 'grados' y 'brillo' ---</span>
  <span class="comment">// Usa la variable 'grados' para implementar la lógica IF / ELSE IF / ELSE</span>
  <span class="keyword">if</span> ( <span class="comment">/* CONDICION 0-90 */</span> ) {
    <span class="comment">// Tarea: Encender LED 1 (con 'brillo'), apagar 2 y 3 (con 0)</span>
    <span class="comment">// ... tu código analogWrite() aquí ...</span>
  } 
  <span class="keyword">else if</span> ( <span class="comment">/* CONDICION 91-180 */</span> ) {
    <span class="comment">// Tarea: Encender LED 1 y 2 (con 'brillo'), apagar 3 (con 0)</span>
    <span class="comment">// ... tu código analogWrite() aquí ...</span>
  } 
  <span class="keyword">else</span> { <span class="comment">// 181 a 270 grados</span>
    <span class="comment">// Tarea: Encender los tres LEDs (con 'brillo')</span>
    <span class="comment">// ... tu código analogWrite() aquí ...</span>
  }

  <span class="function">delay</span>(<span class="number">100</span>); <span class="comment">// Pequeña pausa para estabilizar la lectura</span>
}
                </div>
            </div>
        </section>

        <section id="simulation" class="text-center fade-in">
             <h3 class="text-4xl font-bold mb-4">Construir y Probar</h3>
             <div class="card max-w-4xl mx-auto">
                <p class="text-lg text-gray-700 mb-6">Usa la plantilla de código y la lista de componentes para armar tu sistema en Tinkercad. Depura tu código usando el Monitor Serie. ¡Prueba todas las condiciones!</p>
                <ul class="list-disc list-inside text-left max-w-lg mx-auto mb-6">
                    <li>Verifica que el Monitor Serial muestre los grados de 0 a 270.</li>
                    <li>Gira el potenciómetro de ángulo y comprueba que los LEDs se enciendan en secuencia (1, 1-2, 1-2-3).</li>
                    <li>Mientras los LEDs están encendidos, gira el potenciómetro de brillo y comprueba que su intensidad cambie.</li>
                    <li>Verifica que el potenciómetro de brillo nunca apague los LEDs por completo (deben quedarse en <code>brilloMinimo</code>).</li>
                </ul>
                <a href="https://www.tinkercad.com/circuits" target="_blank" class="mt-6 inline-block bg-blue-600 text-white px-10 py-4 rounded-lg font-bold text-xl hover:bg-blue-700 transition transform hover:scale-105">
                    Abrir Tinkercad Circuits
                </a>
            </div>
        </section>

    </main>

    <script>
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
    </script>

</body>
</html>